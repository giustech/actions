name: Generate Files for Java Repository
inputs:
  repository:
    description: "Name of the repository to be created"
    required: true
  application:
    description: "Name of the application"
    required: true

runs:
  using: composite
  steps:
  - name: Create README File
    shell: bash
    run: |
      
      cat > README.md <<EOF

      <<README
      # ${{ inputs.application }} - Protobuf Connector

      Este repositÃ³rio contÃ©m as classes Java geradas (stubs) a partir das definiÃ§Ãµes Protobuf (`.proto`) da **[Sua AplicaÃ§Ã£o Principal]**.

      Esta biblioteca atua como um conector oficial, garantindo que serviÃ§os consumidores utilizem os contratos de dados e clientes gRPC corretos e atualizados.

      ---

      ## ðŸ“¦ InstalaÃ§Ã£o

      Configure o seu gerenciador de dependÃªncias conforme abaixo.

      ### ðŸ˜ Gradle (build.gradle)

      Adicione o repositÃ³rio e a dependÃªncia no seu arquivo `build.gradle`:

      ```groovy
      repositories {
          mavenCentral()
          // Exemplo para GitHub Packages ou Nexus Privado
          maven {
              url = uri("https://maven.pkg.github.com/[SEU_USUARIO]/[SEU_REPOSITORIO]")
              credentials {
                  username = System.getenv("GITHUB_ACTOR") ?: "SEU_USUARIO"
                  password = System.getenv("GITHUB_TOKEN") ?: "SEU_TOKEN"
              }
          }
      }

      dependencies {
          // Conector da AplicaÃ§Ã£o
          implementation 'com.giustech:${{inputs.repository}}:x.x.x'

          // DependÃªncias transitivas do gRPC (caso necessÃ¡rio)
          implementation 'io.grpc:grpc-protobuf:1.58.0'
          implementation 'io.grpc:grpc-stub:1.58.0'
      }

      README

  - name: Create folders
    shell: bash
    run: |
      mkdir -p .github/worfklows
      mkdir -p src/main/java
