name: Create Repository
description: 'Creates a new private repository with a master default branch and a README file.'

inputs:
  repository:
    description: "Name of the repository to be created"
    required: true
  pat_token:
    description: "Secret token with permissions to create repositories"
    required: true

runs:
  using: composite
  steps:
    - name: 'Create new repository using GitHub CLI'
      shell: bash
      env:
        GH_TOKEN: ${{ inputs.pat_token }}
        REPO_NAME: ${{ inputs.repository }}
      run: |
        gh repo create ${{ github.repository_owner }}/$REPO_NAME --private --default-branch master
        echo "Reposit√≥rio criado com sucesso!"
        echo "Acesse em: https://github.com/${{ github.repository_owner }}/$REPO_NAME"

