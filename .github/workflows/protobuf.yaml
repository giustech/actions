name: Generate Repository

on:
  workflow_call:
    secrets:
      PAT_TOKEN:
        required: true
    inputs:
      repository:
        required: true
        type: string
      language:
        required: true
        type: string

jobs:
  generate-repository:
    name: Java
    uses: giustech/actions/.github/workflows/create-repository.yaml@main
    permissions:
      id-token: write
      contents: read
    secrets:
      PAT_TOKEN: ${{ secrets.PAT_TOKEN }}
    with:
      language: 'java'
      repository: '${{ github.event.repository.name }}-grpc-java'
